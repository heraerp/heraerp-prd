/* 
  HERA DNA UI Safe Global Styles
  This is a cleaned version that removes conflicts while preserving functionality
  Migrate to this file gradually to avoid breaking changes
*/

@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

/* ===============================================
   HERA BRAND DESIGN SYSTEM - PRESERVED
   Premium oklch colors maintained for brand consistency
   =============================================== */

:root {
  /* Primary Brand Colors - KEEP THESE */
  --hera-50: oklch(0.98 0.02 250);
  --hera-100: oklch(0.96 0.04 250);
  --hera-200: oklch(0.9 0.08 250);
  --hera-300: oklch(0.82 0.14 250);
  --hera-400: oklch(0.66 0.18 250);
  --hera-500: oklch(0.57 0.192 250); /* Primary Blue */
  --hera-600: oklch(0.46 0.2 250);
  --hera-700: oklch(0.37 0.18 250);
  --hera-800: oklch(0.3 0.14 250);
  --hera-900: oklch(0.25 0.1 250);
  --hera-950: oklch(0.17 0.08 250);

  /* Secondary Colors - KEEP THESE */
  --hera-cyan-500: oklch(0.68 0.12 200);
  --hera-emerald-500: oklch(0.64 0.12 160);
  --hera-amber-500: oklch(0.69 0.12 85);
  --hera-purple-500: oklch(0.58 0.192 280);

  /* Premium Gradients - SAFE TO KEEP */
  --hera-gradient: linear-gradient(135deg, var(--hera-500) 0%, var(--hera-cyan-500) 100%);
  --hera-gradient-reverse: linear-gradient(135deg, var(--hera-cyan-500) 0%, var(--hera-500) 100%);
  --hera-gradient-radial: radial-gradient(circle at top right, var(--hera-400), var(--hera-600));
  --hera-gradient-premium: linear-gradient(135deg, var(--hera-purple-500), var(--hera-500), var(--hera-cyan-500), var(--hera-emerald-500));

  /* Animation Timing - SAFE */
  --duration-fast: 200ms;
  --duration-normal: 400ms;
  --duration-slow: 700ms;
  --duration-slower: 1000ms;
  
  /* Easing Functions - SAFE */
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-out-quart: cubic-bezier(0.165, 0.84, 0.44, 1);
  --ease-in-out-quad: cubic-bezier(0.455, 0.03, 0.515, 0.955);

  /* Shadows - SAFE */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
  --shadow-glow: 0 0 20px var(--hera-500);
}

/* ===============================================
   ANIMATIONS - SAFE TO KEEP
   =============================================== */

@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

@keyframes glow {
  0% { opacity: 0.5; }
  100% { opacity: 1; }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes bounce {
  0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8, 0, 1, 1); }
  50% { transform: translateY(0); animation-timing-function: cubic-bezier(0, 0, 0.2, 1); }
}

@keyframes slide-in {
  0% { transform: translateX(-100%); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}

@keyframes fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes scale-in {
  0% { transform: scale(0.9); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

/* ===============================================
   HERA DNA COMPATIBLE UTILITIES
   Use these as opt-in classes, not global overrides
   =============================================== */

@layer utilities {
  /* DNA-Compatible Card Styles */
  .hera-card-dna {
    @apply rounded-xl border border-border bg-card text-card-foreground shadow-sm;
    background-clip: padding-box;
    transition: all var(--duration-fast) var(--ease-out-quart);
  }

  .hera-card-dna:hover {
    @apply shadow-md;
    transform: translateY(-2px);
  }

  /* DNA-Compatible Button Styles */
  .hera-button-dna {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium;
    @apply transition-all duration-200 ease-out;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
    @apply disabled:pointer-events-none disabled:opacity-50;
  }

  /* DNA-Compatible Text Utilities */
  .hera-text-primary {
    @apply text-foreground;
  }

  .hera-text-secondary {
    @apply text-muted-foreground;
  }

  .hera-text-accent {
    color: var(--hera-500);
  }

  /* DNA-Compatible Backgrounds */
  .hera-bg-surface {
    @apply bg-background;
  }

  .hera-bg-card {
    @apply bg-card;
  }

  .hera-bg-muted {
    @apply bg-muted;
  }

  /* DNA Glass Effect Base - Use with DNA components */
  .hera-glass-base {
    backdrop-filter: blur(20px);
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .dark .hera-glass-base {
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* DNA Animation Utilities */
  .hera-transition-all {
    transition: all var(--duration-normal) var(--ease-out-quart);
  }

  .hera-animate-shimmer {
    background: linear-gradient(90deg, 
      transparent 33%, 
      rgba(255, 255, 255, 0.2) 50%, 
      transparent 66%
    );
    background-size: 300% 100%;
    animation: shimmer 2s infinite;
  }

  .hera-animate-glow {
    animation: glow 2s ease-in-out infinite alternate;
  }

  /* DNA Status Colors - Opt-in only */
  .hera-status-positive {
    color: oklch(0.65 0.2 145);
  }

  .hera-status-negative {
    color: oklch(0.65 0.2 25);
  }

  .hera-status-neutral {
    color: var(--hera-400);
  }
}

/* ===============================================
   CRITICAL FIXES - MINIMAL GLOBAL OVERRIDES
   Only what's absolutely necessary for functionality
   =============================================== */

/* Fix for Radix Select visibility - KEEP THIS */
[data-radix-popper-content-wrapper] {
  z-index: 50;
}

/* Ensure dialogs are visible - SIMPLIFIED */
[role="dialog"] {
  z-index: 50;
}

/* ===============================================
   RESPONSIVE & ACCESSIBILITY - SAFE
   =============================================== */

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  .print-only {
    display: block !important;
  }
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .mobile-stack {
    flex-direction: column;
  }
  
  .mobile-hide {
    display: none;
  }
}

/* ===============================================
   DNA COMPONENT IMPORTS
   Import DNA-specific styles here
   =============================================== */

/* @import "./dna/design-system/glass-animations.css"; */
/* @import "./dna/design-system/fiori-patterns.css"; */

/* ===============================================
   MIGRATION HELPERS
   Temporary classes to help transition
   =============================================== */

/* Use these classes during migration */
.use-dna-theme {
  /* Marker class to indicate component uses DNA theming */
}

.legacy-compat {
  /* Marker class for components still using old styles */
}

/* ===============================================
   ENTERPRISE GLASSMORPHISM TOKENS
   Modern design system for HERA components
   =============================================== */

/* Light theme enterprise tokens - Enhanced for crisp readability (Mangomint-like) */
:root {
  /* Surfaces (near-solid for readability on light) */
  --surface-glass: rgba(255,255,255,0.96);
  --surface-veil:  rgba(255,255,255,0.98);

  /* Ink (SOLID; no alpha) */
  --ink-primary:   #0b1220; /* near-black */
  --ink-secondary: #344154; /* SOLID dark-slate for body copy */

  /* Lines & depth */
  --border-strong: rgba(15,23,42,0.14);
  --shadow-elev:   0 10px 24px -12px rgba(15,23,42,0.2);
}

/* Dark theme enterprise tokens - ENHANCED CONTRAST */
.dark {
  --surface-glass: rgba(31, 41, 55, 0.85);  /* Increased opacity for better contrast */
  --surface-veil: rgba(31, 41, 55, 0.7);    /* Increased opacity */
  --ink-primary: #ffffff;                    /* Pure white for maximum contrast */
  --ink-secondary: rgba(255,255,255,0.85);   /* High contrast secondary text */
  --border-strong: rgba(255,255,255,0.2);    /* Brighter borders */
  --shadow-elev: 0 8px 40px -12px rgba(0,0,0,0.8);
}

/* Enterprise glassmorphism classes */
.glass {
  background: var(--surface-glass);
  backdrop-filter: saturate(140%) blur(16px);
  -webkit-backdrop-filter: saturate(140%) blur(16px);
  border: 1px solid var(--border-strong);
  box-shadow: var(--shadow-elev);
}

.ink {
  color: var(--ink-primary);
}

.ink-muted {
  color: var(--ink-secondary);
}

/* Enhanced dark mode form inputs for better contrast */
.dark input,
.dark textarea,
.dark select {
  background-color: rgba(17, 24, 39, 0.7) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  color: white !important;
}

.dark input:focus,
.dark textarea:focus,
.dark select:focus {
  background-color: rgba(17, 24, 39, 0.9) !important;
  border-color: var(--hera-500) !important;
  outline: 2px solid rgba(99, 102, 241, 0.3) !important;
  outline-offset: 2px !important;
}

/* Enhanced dropdown contrast for dark mode */
.dark [role="listbox"],
.dark [data-radix-select-content] {
  background-color: rgb(31, 41, 55) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  color: white !important;
}

.dark [role="option"]:hover,
.dark [role="option"]:focus {
  background-color: rgba(99, 102, 241, 0.2) !important;
  color: white !important;
}

/* ===============================================
   END OF SAFE GLOBALS
   All problematic overrides removed
   =============================================== */