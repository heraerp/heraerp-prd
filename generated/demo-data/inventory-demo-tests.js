#!/usr/bin/env node

/**
 * INVENTORY Demo API Tests
 * Generated by HERA Demo Generator
 */

const { execSync } = require('child_process')

const API_BASE = 'http://localhost:3001/api/v1'
const ORG_ID = '719dfed1-09b4-4ca8-bfda-f682460de945'

console.log('🧪 Running INVENTORY Demo API Tests')
console.log('📖 Story: TechCorp Inventory - Modern inventory management in action')
console.log('')

// Test scenarios
const tests = [
  {
    name: 'Get MacBook Pro 16-inch',
    url: `${API_BASE}/inventory/entities?organization_id=${ORG_ID}&entity_code=LAPTOP-001`,
    expected: 200
  },
  {
    name: 'Get Office Chair Ergonomic',
    url: `${API_BASE}/inventory/entities?organization_id=${ORG_ID}&entity_code=CHAIR-001`,
    expected: 200
  }
]

// Run tests
tests.forEach((test, index) => {
  console.log(`${index + 1}. ${test.name}`)
  try {
    const result = execSync(`curl -s -o /dev/null -w "%{http_code}" "${test.url}"`, { encoding: 'utf8' })
    const status = parseInt(result.trim())
    
    if (status === test.expected) {
      console.log(`   ✅ PASS (${status})`)
    } else {
      console.log(`   ❌ FAIL (${status}, expected ${test.expected})`)
    }
  } catch (error) {
    console.log(`   ❌ ERROR: ${error.message}`)
  }
})

console.log('')
console.log('🎯 Demo test complete!')
