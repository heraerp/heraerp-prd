{
  "timestamp": "2025-09-15T15:15:59.383Z",
  "organizationId": "30cbd9d1-7610-4e6a-9694-ea259dc6b23a",
  "checks": {
    "smart_code_regex": {
      "passed": true,
      "message": "All smart codes match pattern and length requirements",
      "details": null
    },
    "smart_code_version_monotonicity": {
      "passed": false,
      "message": "Smart code versions are monotonic",
      "details": [
        {
          "stem": "HERA.SALON.ORG.BRANCH.ENTITY",
          "versions": [
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.PRODUCT.ENTITY",
          "versions": [
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.SERVICE.ENTITY",
          "versions": [
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.PRODUCT.DYN",
          "versions": [
            1,
            1,
            1,
            1,
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.PRODUCT.DYN",
          "versions": [
            1,
            1,
            1,
            1,
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.PRODUCT.DYN",
          "versions": [
            1,
            1,
            1,
            1,
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.PRODUCT.DYN",
          "versions": [
            1,
            1,
            1,
            1,
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.PRODUCT.DYN",
          "versions": [
            1,
            1,
            1,
            1,
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.SERVICE.DYN",
          "versions": [
            1,
            1,
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.SERVICE.DYN",
          "versions": [
            1,
            1,
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.SERVICE.DYN",
          "versions": [
            1,
            1,
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.INVENTORY.REORDER.LEVEL",
          "versions": [
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.RELATIONSHIP.LINK",
          "versions": [
            1,
            1,
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.RELATIONSHIP.LINK",
          "versions": [
            1,
            1,
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        },
        {
          "stem": "HERA.SALON.CATALOG.RELATIONSHIP.LINK",
          "versions": [
            1,
            1,
            1,
            1
          ],
          "issue": "Version gap between v1 and v1"
        }
      ]
    },
    "smart_code_uniqueness": {
      "passed": false,
      "message": "Smart codes are unique within tables",
      "details": [
        {
          "table": "core_entities",
          "smart_code": "HERA.SALON.ORG.BRANCH.ENTITY.v1",
          "count": 2
        },
        {
          "table": "core_entities",
          "smart_code": "HERA.SALON.CATALOG.PRODUCT.ENTITY.v1",
          "count": 2
        },
        {
          "table": "core_entities",
          "smart_code": "HERA.SALON.CATALOG.SERVICE.ENTITY.v1",
          "count": 2
        },
        {
          "table": "core_dynamic_data",
          "smart_code": "HERA.SALON.CATALOG.PRODUCT.DYN.v1",
          "count": 6
        },
        {
          "table": "core_dynamic_data",
          "smart_code": "HERA.SALON.CATALOG.SERVICE.DYN.v1",
          "count": 4
        },
        {
          "table": "core_dynamic_data",
          "smart_code": "HERA.SALON.INVENTORY.REORDER.LEVEL.v1",
          "count": 2
        },
        {
          "table": "core_relationships",
          "smart_code": "HERA.SALON.CATALOG.RELATIONSHIP.LINK.v1",
          "count": 4
        }
      ]
    },
    "cross_org_relationships": {
      "passed": false,
      "message": "No cross-organization relationships found",
      "details": {
        "count": 347
      }
    },
    "org_id_filtering": {
      "passed": true,
      "message": "Organization filtering statistics",
      "details": [
        {
          "table": "core_entities",
          "total_records": 1101,
          "org_filtered": 7,
          "other_orgs": 1094
        },
        {
          "table": "core_dynamic_data",
          "total_records": 1880,
          "org_filtered": 14,
          "other_orgs": 1866
        },
        {
          "table": "core_relationships",
          "total_records": 347,
          "org_filtered": 4,
          "other_orgs": 343
        }
      ]
    },
    "sacred_six_only": {
      "passed": true,
      "message": "Data stored only in sacred six tables",
      "details": {
        "verified_tables": [
          "core_organizations",
          "core_entities",
          "core_dynamic_data",
          "core_relationships",
          "universal_transactions",
          "universal_transaction_lines"
        ]
      }
    },
    "ai_fields_present": {
      "passed": true,
      "message": "AI fields are present in tables",
      "details": [
        {
          "table": "core_entities",
          "has_ai_confidence": true,
          "has_ai_insights": true,
          "has_ai_classification": true,
          "has_metadata": true
        }
      ]
    },
    "no_orphan_dynamic_data": {
      "passed": true,
      "message": "No orphaned dynamic data records",
      "details": null
    },
    "no_orphan_relationships": {
      "passed": true,
      "message": "No orphaned relationships",
      "details": null
    },
    "no_duplicate_relationships": {
      "passed": true,
      "message": "No duplicate relationships",
      "details": null
    },
    "numeric_fields_valid": {
      "passed": true,
      "message": "All numeric fields properly typed and positive",
      "details": null
    },
    "currency_consistency": {
      "passed": true,
      "message": "All prices in AED",
      "details": null
    },
    "uom_consistency": {
      "passed": true,
      "message": "All UoMs are valid and consistent",
      "details": null
    },
    "complete_policy_coverage": {
      "passed": true,
      "message": "All services have complete policy coverage",
      "details": null
    }
  },
  "summary": {
    "total": 14,
    "passed": 11,
    "failed": 3,
    "warnings": 0
  },
  "snapshot": {
    "filename": "snapshot-30cbd9d1-7610-4e6a-9694-ea259dc6b23a-1757949368178.json",
    "hash": {
      "core_entities": {
        "count": 7,
        "hash": "3b27c3466fc1b291609dbc0a13b454f68694bf8ec4727d6781dd734f804a07aa",
        "sample": [
          {
            "id": "03caf0a3-3faa-4425-86d8-ad4bbec529f2",
            "organization_id": "30cbd9d1-7610-4e6a-9694-ea259dc6b23a",
            "entity_type": "service",
            "entity_name": "Basic Haircut",
            "entity_code": "BASIC-HAIRCUT",
            "entity_description": null,
            "parent_entity_id": null,
            "smart_code": "HERA.SALON.CATALOG.SERVICE.ENTITY.v1",
            "smart_code_status": "DRAFT",
            "ai_confidence": 0,
            "ai_classification": null,
            "ai_insights": {},
            "business_rules": {},
            "metadata": {
              "entity_type": "service"
            },
            "tags": null,
            "status": "active",
            "created_at": "2025-09-15T13:52:28.707559+00:00",
            "updated_at": "2025-09-15T13:52:28.707559+00:00",
            "created_by": null,
            "updated_by": null,
            "version": 1
          },
          {
            "id": "1bb12e0a-45ba-4a4f-8bb0-34875c35226b",
            "organization_id": "30cbd9d1-7610-4e6a-9694-ea259dc6b23a",
            "entity_type": "product",
            "entity_name": "Color Dye (Consumable)",
            "entity_code": "DYE_COLOR",
            "entity_description": null,
            "parent_entity_id": null,
            "smart_code": "HERA.SALON.CATALOG.PRODUCT.ENTITY.v1",
            "smart_code_status": "DRAFT",
            "ai_confidence": 0,
            "ai_classification": null,
            "ai_insights": {},
            "business_rules": {},
            "metadata": {
              "entity_type": "product"
            },
            "tags": null,
            "status": "active",
            "created_at": "2025-09-15T13:52:29.25952+00:00",
            "updated_at": "2025-09-15T13:52:29.25952+00:00",
            "created_by": null,
            "updated_by": null,
            "version": 1
          },
          {
            "id": "20daec28-ca4f-4c2b-b459-670e3e83dda4",
            "organization_id": "30cbd9d1-7610-4e6a-9694-ea259dc6b23a",
            "entity_type": "branch",
            "entity_name": "Dubai Main Branch",
            "entity_code": "DUBAI_MAIN",
            "entity_description": null,
            "parent_entity_id": null,
            "smart_code": "HERA.SALON.ORG.BRANCH.ENTITY.v1",
            "smart_code_status": "DRAFT",
            "ai_confidence": 0,
            "ai_classification": null,
            "ai_insights": {},
            "business_rules": {},
            "metadata": {
              "entity_type": "branch"
            },
            "tags": null,
            "status": "active",
            "created_at": "2025-09-15T13:52:29.427369+00:00",
            "updated_at": "2025-09-15T13:52:29.427369+00:00",
            "created_by": null,
            "updated_by": null,
            "version": 1
          }
        ]
      },
      "core_dynamic_data": {
        "count": 14,
        "hash": "d11913f0c0c3f707866b38cf6c8cb25e4d09abf7ccf10231c721ec0c6089e893",
        "sample": [
          {
            "id": "07d2f3d3-89b0-4ccc-97c4-860b486ee7f1",
            "organization_id": "30cbd9d1-7610-4e6a-9694-ea259dc6b23a",
            "entity_id": "757db2c4-0643-43b6-8514-dd2de10dced3",
            "field_name": "reorder_level",
            "field_type": "text",
            "field_value_text": null,
            "field_value_number": 50,
            "field_value_boolean": null,
            "field_value_date": null,
            "field_value_json": null,
            "field_value_file_url": null,
            "calculated_value": null,
            "smart_code": "HERA.SALON.INVENTORY.REORDER.LEVEL.v1",
            "smart_code_status": "DRAFT",
            "ai_confidence": 0,
            "ai_enhanced_value": null,
            "ai_insights": {
              "validation_errors": {
                "missing_fields": {
                  "entity_id": false,
                  "field_name": false,
                  "smart_code": false,
                  "organization_id": false
                }
              }
            },
            "validation_rules": {},
            "validation_status": "invalid",
            "field_order": 1,
            "is_searchable": true,
            "is_required": false,
            "is_system_field": false,
            "created_at": "2025-09-15T13:52:31.481472+00:00",
            "updated_at": "2025-09-15T13:52:31.481472+00:00",
            "created_by": null,
            "updated_by": null,
            "version": 1
          },
          {
            "id": "10c99345-3c2d-4440-a022-724c89a9cc31",
            "organization_id": "30cbd9d1-7610-4e6a-9694-ea259dc6b23a",
            "entity_id": "354c2589-80de-4f0d-b338-7d8dd0f5ffb1",
            "field_name": "price_list_currency",
            "field_type": "text",
            "field_value_text": "AED",
            "field_value_number": null,
            "field_value_boolean": null,
            "field_value_date": null,
            "field_value_json": null,
            "field_value_file_url": null,
            "calculated_value": null,
            "smart_code": "HERA.SALON.CATALOG.PRICE_LIST.DYN.v1",
            "smart_code_status": "DRAFT",
            "ai_confidence": 0,
            "ai_enhanced_value": null,
            "ai_insights": {
              "validation_errors": {
                "missing_fields": {
                  "entity_id": false,
                  "field_name": false,
                  "smart_code": false,
                  "organization_id": false
                }
              }
            },
            "validation_rules": {},
            "validation_status": "invalid",
            "field_order": 1,
            "is_searchable": true,
            "is_required": false,
            "is_system_field": false,
            "created_at": "2025-09-15T13:52:29.767741+00:00",
            "updated_at": "2025-09-15T13:52:29.767741+00:00",
            "created_by": null,
            "updated_by": null,
            "version": 1
          },
          {
            "id": "139ef29a-887d-4f5e-999a-cd8d4e3dc7f5",
            "organization_id": "30cbd9d1-7610-4e6a-9694-ea259dc6b23a",
            "entity_id": "1bb12e0a-45ba-4a4f-8bb0-34875c35226b",
            "field_name": "product_sku",
            "field_type": "text",
            "field_value_text": "SKU-DYE-001",
            "field_value_number": null,
            "field_value_boolean": null,
            "field_value_date": null,
            "field_value_json": null,
            "field_value_file_url": null,
            "calculated_value": null,
            "smart_code": "HERA.SALON.CATALOG.PRODUCT.DYN.v1",
            "smart_code_status": "DRAFT",
            "ai_confidence": 0,
            "ai_enhanced_value": null,
            "ai_insights": {
              "validation_errors": {
                "missing_fields": {
                  "entity_id": false,
                  "field_name": false,
                  "smart_code": false,
                  "organization_id": false
                }
              }
            },
            "validation_rules": {},
            "validation_status": "invalid",
            "field_order": 1,
            "is_searchable": true,
            "is_required": false,
            "is_system_field": false,
            "created_at": "2025-09-15T13:52:30.955439+00:00",
            "updated_at": "2025-09-15T13:52:30.955439+00:00",
            "created_by": null,
            "updated_by": null,
            "version": 1
          }
        ]
      },
      "core_relationships": {
        "count": 4,
        "hash": "4a8cb03d8bc6d98a9ec094eee23ddf2a1c1acee61cfa14f3cb06abc8661eb4a3",
        "sample": [
          {
            "id": "4439317f-3675-4acd-90bd-f52c356ac10b",
            "organization_id": "30cbd9d1-7610-4e6a-9694-ea259dc6b23a",
            "from_entity_id": "354c2589-80de-4f0d-b338-7d8dd0f5ffb1",
            "to_entity_id": "757db2c4-0643-43b6-8514-dd2de10dced3",
            "relationship_type": "ITEM_IN_PRICE_LIST",
            "relationship_direction": "forward",
            "relationship_strength": 1,
            "relationship_data": {
              "list_price": 25,
              "currency_code": "AED"
            },
            "smart_code": "HERA.SALON.CATALOG.RELATIONSHIP.LINK.v1",
            "smart_code_status": "DRAFT",
            "ai_confidence": 0,
            "ai_classification": null,
            "ai_insights": {},
            "business_logic": {},
            "validation_rules": {},
            "is_active": true,
            "effective_date": "2025-09-15T13:52:32.07011+00:00",
            "expiration_date": null,
            "created_at": "2025-09-15T13:52:32.07011+00:00",
            "updated_at": "2025-09-15T13:52:32.07011+00:00",
            "created_by": null,
            "updated_by": null,
            "version": 1
          },
          {
            "id": "87f00290-cfda-4aa5-844e-2c65e1fddde2",
            "organization_id": "30cbd9d1-7610-4e6a-9694-ea259dc6b23a",
            "from_entity_id": "354c2589-80de-4f0d-b338-7d8dd0f5ffb1",
            "to_entity_id": "03caf0a3-3faa-4425-86d8-ad4bbec529f2",
            "relationship_type": "ITEM_IN_PRICE_LIST",
            "relationship_direction": "forward",
            "relationship_strength": 1,
            "relationship_data": {
              "list_price": 50,
              "currency_code": "AED"
            },
            "smart_code": "HERA.SALON.CATALOG.RELATIONSHIP.LINK.v1",
            "smart_code_status": "DRAFT",
            "ai_confidence": 0,
            "ai_classification": null,
            "ai_insights": {},
            "business_logic": {},
            "validation_rules": {},
            "is_active": true,
            "effective_date": "2025-09-15T13:52:31.767885+00:00",
            "expiration_date": null,
            "created_at": "2025-09-15T13:52:31.767885+00:00",
            "updated_at": "2025-09-15T13:52:31.767885+00:00",
            "created_by": null,
            "updated_by": null,
            "version": 1
          },
          {
            "id": "96f7c453-4c8a-4704-a7c7-985ffb542b06",
            "organization_id": "30cbd9d1-7610-4e6a-9694-ea259dc6b23a",
            "from_entity_id": "72b6935e-c6f6-4596-b272-7ebce781314c",
            "to_entity_id": "1bb12e0a-45ba-4a4f-8bb0-34875c35226b",
            "relationship_type": "SERVICE_BOM",
            "relationship_direction": "forward",
            "relationship_strength": 1,
            "relationship_data": {
              "uom": "ml",
              "qty_per_service": 50
            },
            "smart_code": "HERA.SALON.CATALOG.RELATIONSHIP.LINK.v1",
            "smart_code_status": "DRAFT",
            "ai_confidence": 0,
            "ai_classification": null,
            "ai_insights": {},
            "business_logic": {},
            "validation_rules": {},
            "is_active": true,
            "effective_date": "2025-09-15T13:52:32.211765+00:00",
            "expiration_date": null,
            "created_at": "2025-09-15T13:52:32.211765+00:00",
            "updated_at": "2025-09-15T13:52:32.211765+00:00",
            "created_by": null,
            "updated_by": null,
            "version": 1
          }
        ]
      }
    }
  }
}