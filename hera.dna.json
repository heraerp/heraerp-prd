{
  "version": "2.0.0",
  "name": "HERA Enterprise Resource Architecture",
  "description": "Universal 6-table ERP with perfect multi-tenancy and zero schema changes",
  "sacred_tables": [
    "core_organizations",
    "core_entities",
    "core_dynamic_data",
    "core_relationships",
    "universal_transactions",
    "universal_transaction_lines"
  ],
  "smart_code_pattern": "^HERA\\.[A-Z0-9]{2,15}(?:\\.[A-Z0-9_]{2,30}){2,8}\\.v[0-9]+$",
  "organization_id": {
    "required": true,
    "type": "uuid",
    "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"
  },
  "entity_types": [
    "customer",
    "vendor",
    "product",
    "employee",
    "gl_account",
    "budget",
    "forecast",
    "location",
    "project",
    "development_task",
    "user",
    "ai_agent",
    "smart_code",
    "field_definition",
    "msg_template",
    "whatsapp_conversation"
  ],
  "transaction_types": [
    "sale",
    "purchase",
    "payment",
    "transfer",
    "journal_entry",
    "budget_line",
    "forecast_line",
    "MESSAGE_THREAD",
    "CAMPAIGN"
  ],
  "relationship_types": [
    "has_status",
    "parent_of",
    "reports_to",
    "customer_of",
    "vendor_of",
    "located_at",
    "assigned_to",
    "THREAD_TO_ENTITY",
    "pinned_conversation",
    "archived_conversation",
    "starred_message"
  ],
  "modules": [
    "CRM",
    "FIN",
    "INV",
    "HR",
    "PROD",
    "SCM",
    "AI",
    "WHATSAPP",
    "REST",
    "HLTH",
    "MFG",
    "RETAIL",
    "SALON"
  ],
  "forbidden_patterns": [
    {
      "pattern": "ALTER TABLE",
      "message": "Schema changes forbidden - use core_dynamic_data"
    },
    {
      "pattern": "CREATE TABLE",
      "message": "New tables forbidden - use the 6 sacred tables"
    },
    {
      "pattern": "status\\s*=|status\\s+varchar|status\\s+text",
      "message": "Status columns forbidden - use relationships"
    },
    {
      "pattern": "supabase\\.from\\(",
      "message": "Direct database access forbidden - use MCP or DNA SDK"
    },
    {
      "pattern": "is_deleted|deleted_at",
      "message": "Soft delete columns forbidden - use status relationships"
    }
  ],
  "build_gates": {
    "compile_time": {
      "enabled": true,
      "strict_types": true,
      "require_smart_codes": true,
      "require_organization_id": true
    },
    "build_time": {
      "enabled": true,
      "lint_fixtures": true,
      "lint_seeds": true,
      "lint_tests": true,
      "dry_run_mcp": true
    },
    "runtime": {
      "enabled": true,
      "mcp_only": true,
      "audit_all_writes": true,
      "block_on_violation": true
    }
  },
  "ci": {
    "failure_policy": "block_on_error",
    "gate_stages": ["lint", "type-check", "dna:gate", "build", "test"],
    "required_checks": [
      "organization_isolation",
      "smart_code_validation",
      "six_table_enforcement",
      "universal_pattern_compliance"
    ]
  },
  "mcp": {
    "server_path": "./mcp-server",
    "enforce_guardrails": true,
    "log_violations": true,
    "metrics_enabled": true
  }
}